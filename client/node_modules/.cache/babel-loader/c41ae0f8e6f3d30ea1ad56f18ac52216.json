{"ast":null,"code":"import _slicedToArray from \"/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/src/components/video-t1/video-t1.component.jsx\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport WebVTT from '../../assets/video/subtitle-vn.vtt';\nimport { videoFirebase } from '../../firebase/firebase.utils.js';\nimport { VideoContainer, VideoContent, VideoSource } from './video-t1.style';\n\nconst VideoT1 = () => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        system = _useState2[0],\n        setSystem = _useState2[1];\n\n  const isLanscape = useSelector(({\n    orientation: {\n      isLanscape\n    }\n  }) => isLanscape);\n  const videoRef = useRef(null);\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        urlVideo = _useState4[0],\n        setUrlVideo = _useState4[1];\n\n  useEffect(() => {\n    videoFirebase('gs://fromthieu1withlove.appspot.com/video/t1.mp4', setUrlVideo);\n    videoRef.current.src = urlVideo;\n    return () => {};\n  }, [urlVideo]);\n  useEffect(() => {\n    const getMobileOperatingSystem = () => {\n      var userAgent = navigator.userAgent || navigator.vendor || window.opera; // Windows Phone must come first because its UA also contains \"Android\"\n\n      if (/windows phone/i.test(userAgent)) {\n        return 'Windows Phone';\n      }\n\n      if (/android/i.test(userAgent)) {\n        return 'Android';\n      } // iOS detection from: http://stackoverflow.com/a/9039885/177710\n\n\n      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        return 'iOS';\n      }\n\n      return 'unknown';\n    };\n\n    setSystem(getMobileOperatingSystem());\n    return () => {};\n  }, [system]);\n\n  const timeOut = ms => {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  };\n\n  useEffect(() => {\n    const getTrack = async () => {\n      try {\n        await timeOut(300);\n        const tracks = await videoRef.current.textTracks;\n        const trackCues = await tracks[0].cues;\n        const trackCuesArray = Object.keys(trackCues).map(key => trackCues[key]);\n        var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n        w < 900 ? trackCuesArray.map(track => {\n          return track.line = 18;\n        }) : w >= 900 && w <= 1600 ? trackCuesArray.map(track => {\n          return track.line = 15;\n        }) : trackCuesArray.map(track => {\n          return track.line = 'auto';\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    console.log(123);\n\n    if (isLanscape) {\n      getTrack();\n    }\n\n    return () => {};\n  }, []);\n  return React.createElement(VideoContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(VideoContent, {\n    system: system,\n    controls: true,\n    volume: \"1\",\n    ref: videoRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(VideoSource, {\n    type: \"video/mp4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(\"track\", {\n    kind: \"captions\",\n    src: WebVTT,\n    srcLang: \"VN\",\n    default: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), \"Your browser does not support the video tag.\"));\n};\n\nexport default VideoT1;","map":{"version":3,"sources":["/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/src/components/video-t1/video-t1.component.jsx"],"names":["React","useRef","useEffect","useState","useSelector","WebVTT","videoFirebase","VideoContainer","VideoContent","VideoSource","VideoT1","system","setSystem","isLanscape","orientation","videoRef","urlVideo","setUrlVideo","current","src","getMobileOperatingSystem","userAgent","navigator","vendor","window","opera","test","MSStream","timeOut","ms","Promise","resolve","setTimeout","getTrack","tracks","textTracks","trackCues","cues","trackCuesArray","Object","keys","map","key","w","Math","max","document","documentElement","clientWidth","innerWidth","track","line","err","console","log"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport WebVTT from '../../assets/video/subtitle-vn.vtt';\nimport { videoFirebase } from '../../firebase/firebase.utils.js';\n\nimport { VideoContainer, VideoContent, VideoSource } from './video-t1.style';\n\nconst VideoT1 = () => {\n    const [system, setSystem] = useState('');\n    const isLanscape = useSelector(({ orientation: { isLanscape } }) => isLanscape);\n    const videoRef = useRef(null);\n    const [urlVideo, setUrlVideo] = useState('');\n\n    useEffect(() => {\n        videoFirebase('gs://fromthieu1withlove.appspot.com/video/t1.mp4', setUrlVideo);\n        videoRef.current.src = urlVideo;\n        return () => {};\n    }, [urlVideo]);\n    useEffect(() => {\n        const getMobileOperatingSystem = () => {\n            var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n            // Windows Phone must come first because its UA also contains \"Android\"\n            if (/windows phone/i.test(userAgent)) {\n                return 'Windows Phone';\n            }\n\n            if (/android/i.test(userAgent)) {\n                return 'Android';\n            }\n\n            // iOS detection from: http://stackoverflow.com/a/9039885/177710\n            if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n                return 'iOS';\n            }\n\n            return 'unknown';\n        };\n        setSystem(getMobileOperatingSystem());\n        return () => {};\n    }, [system]);\n    const timeOut = ms => {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    };\n    useEffect(() => {\n        const getTrack = async () => {\n            try {\n                await timeOut(300);\n                const tracks = await videoRef.current.textTracks;\n                const trackCues = await tracks[0].cues;\n\n                const trackCuesArray = Object.keys(trackCues).map(key => trackCues[key]);\n                var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n                w < 900\n                    ? trackCuesArray.map(track => {\n                          return (track.line = 18);\n                      })\n                    : w >= 900 && w <= 1600\n                    ? trackCuesArray.map(track => {\n                          return (track.line = 15);\n                      })\n                    : trackCuesArray.map(track => {\n                          return (track.line = 'auto');\n                      });\n            } catch (err) {\n                console.log(err);\n            }\n        };\n        console.log(123);\n        if (isLanscape) {\n            getTrack();\n        }\n        return () => {};\n    }, []);\n    return (\n        <VideoContainer>\n            <VideoContent system={system} controls volume='1' ref={videoRef}>\n                <VideoSource type='video/mp4' />\n                <track kind='captions' src={WebVTT} srcLang='VN' default />\n                Your browser does not support the video tag.\n            </VideoContent>\n        </VideoContainer>\n    );\n};\n\nexport default VideoT1;\n"]},"metadata":{},"sourceType":"module"}