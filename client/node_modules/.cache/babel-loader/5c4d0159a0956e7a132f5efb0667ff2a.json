{"ast":null,"code":"import { takeEvery } from 'redux-saga/effects';\nimport { storage } from '../../firebase/firebase.utils';\nimport PictureActionTypes from './picture.types';\nexport function* fetchPicturesAsync() {\n  yield console.log('I am');\n  const storageRef = storage.ref();\n  const listRef = storageRef.child(\"thieu\".concat(mainFolder, \"/\").concat(forDevice));\n  dispatch(fetchPicturesStart());\n  listRef.listAll().then(res => {\n    const pictureToPush = [];\n    res.items.forEach(item => {\n      item.getDownloadURL().then(url => {\n        pictureToPush.push(url);\n      });\n    });\n    sleep(dispatch, fetchPicturesSuccess(pictureToPush));\n  }).catch(error => dispatch(fetchPictureFailure(error)));\n}\nexport function* fetchPicturesStart() {\n  yield takeEvery(PictureActionTypes.FETCH_PICTURES_START, fetchPicturesAsync);\n}","map":{"version":3,"sources":["/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/src/redux/picture/picture.sagas.js"],"names":["takeEvery","storage","PictureActionTypes","fetchPicturesAsync","console","log","storageRef","ref","listRef","child","mainFolder","forDevice","dispatch","fetchPicturesStart","listAll","then","res","pictureToPush","items","forEach","item","getDownloadURL","url","push","sleep","fetchPicturesSuccess","catch","error","fetchPictureFailure","FETCH_PICTURES_START"],"mappings":"AAAA,SAASA,SAAT,QAA0B,oBAA1B;AAEA,SAASC,OAAT,QAAwB,+BAAxB;AAEA,OAAOC,kBAAP,MAA+B,iBAA/B;AAEA,OAAO,UAAUC,kBAAV,GAA+B;AAClC,QAAMC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAN;AACA,QAAMC,UAAU,GAAGL,OAAO,CAACM,GAAR,EAAnB;AACA,QAAMC,OAAO,GAAGF,UAAU,CAACG,KAAX,gBAAyBC,UAAzB,cAAuCC,SAAvC,EAAhB;AACAC,EAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AAEAL,EAAAA,OAAO,CACFM,OADL,GAEKC,IAFL,CAEUC,GAAG,IAAI;AACT,UAAMC,aAAa,GAAG,EAAtB;AACAD,IAAAA,GAAG,CAACE,KAAJ,CAAUC,OAAV,CAAkBC,IAAI,IAAI;AACtBA,MAAAA,IAAI,CAACC,cAAL,GAAsBN,IAAtB,CAA2BO,GAAG,IAAI;AAC9BL,QAAAA,aAAa,CAACM,IAAd,CAAmBD,GAAnB;AACH,OAFD;AAGH,KAJD;AAKAE,IAAAA,KAAK,CAACZ,QAAD,EAAWa,oBAAoB,CAACR,aAAD,CAA/B,CAAL;AACH,GAVL,EAWKS,KAXL,CAWWC,KAAK,IAAIf,QAAQ,CAACgB,mBAAmB,CAACD,KAAD,CAApB,CAX5B;AAYH;AAED,OAAO,UAAUd,kBAAV,GAA+B;AAClC,QAAMb,SAAS,CAACE,kBAAkB,CAAC2B,oBAApB,EAA0C1B,kBAA1C,CAAf;AACH","sourcesContent":["import { takeEvery } from 'redux-saga/effects';\n\nimport { storage } from '../../firebase/firebase.utils';\n\nimport PictureActionTypes from './picture.types';\n\nexport function* fetchPicturesAsync() {\n    yield console.log('I am');\n    const storageRef = storage.ref();\n    const listRef = storageRef.child(`thieu${mainFolder}/${forDevice}`);\n    dispatch(fetchPicturesStart());\n\n    listRef\n        .listAll()\n        .then(res => {\n            const pictureToPush = [];\n            res.items.forEach(item => {\n                item.getDownloadURL().then(url => {\n                    pictureToPush.push(url);\n                });\n            });\n            sleep(dispatch, fetchPicturesSuccess(pictureToPush));\n        })\n        .catch(error => dispatch(fetchPictureFailure(error)));\n}\n\nexport function* fetchPicturesStart() {\n    yield takeEvery(PictureActionTypes.FETCH_PICTURES_START, fetchPicturesAsync);\n}\n"]},"metadata":{},"sourceType":"module"}