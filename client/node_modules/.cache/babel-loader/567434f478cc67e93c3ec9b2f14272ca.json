{"ast":null,"code":"import { takeEvery, call } from 'redux-saga/effects';\nimport { storage } from '../../firebase/firebase.utils';\nimport { fetchPicturesSuccess, fetchPictureFailure } from './picture.actions';\nimport { getDownloadPictureURL } from '../../redux/picture/picture.actions';\nimport PictureActionTypes from './picture.types';\nexport function* fetchPicturesAsync() {\n  yield console.log('I am');\n  const storageRef = storage.ref();\n  const listRef = storageRef.child(\"thieu\".concat(mainFolder, \"/\").concat(forDevice));\n  const listAll = yield listRef.listAll();\n  const getPicture = yield call(getDownloadPictureURL, listAll); // listRef\n  //     .listAll()\n  //     .then(res => {\n  //         const pictureToPush = [];\n  //         res.items.forEach(item => {\n  //             item.getDownloadURL().then(url => {\n  //                 pictureToPush.push(url);\n  //             });\n  //         });\n  //         sleep(dispatch, fetchPicturesSuccess(pictureToPush));\n  //     })\n  //     .catch(error => dispatch(fetchPictureFailure(error)));\n}\nexport function* fetchPicturesStart() {\n  yield takeEvery(PictureActionTypes.FETCH_PICTURES_START, fetchPicturesAsync);\n}","map":{"version":3,"sources":["/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/src/redux/picture/picture.sagas.js"],"names":["takeEvery","call","storage","fetchPicturesSuccess","fetchPictureFailure","getDownloadPictureURL","PictureActionTypes","fetchPicturesAsync","console","log","storageRef","ref","listRef","child","mainFolder","forDevice","listAll","getPicture","fetchPicturesStart","FETCH_PICTURES_START"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,QAAgC,oBAAhC;AAEA,SAASC,OAAT,QAAwB,+BAAxB;AAEA,SAASC,oBAAT,EAA+BC,mBAA/B,QAA0D,mBAA1D;AAEA,SAASC,qBAAT,QAAsC,qCAAtC;AAEA,OAAOC,kBAAP,MAA+B,iBAA/B;AAEA,OAAO,UAAUC,kBAAV,GAA+B;AAClC,QAAMC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAN;AACA,QAAMC,UAAU,GAAGR,OAAO,CAACS,GAAR,EAAnB;AACA,QAAMC,OAAO,GAAGF,UAAU,CAACG,KAAX,gBAAyBC,UAAzB,cAAuCC,SAAvC,EAAhB;AACA,QAAMC,OAAO,GAAG,MAAMJ,OAAO,CAACI,OAAR,EAAtB;AAEA,QAAMC,UAAU,GAAG,MAAMhB,IAAI,CAACI,qBAAD,EAAwBW,OAAxB,CAA7B,CANkC,CAQlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AAED,OAAO,UAAUE,kBAAV,GAA+B;AAClC,QAAMlB,SAAS,CAACM,kBAAkB,CAACa,oBAApB,EAA0CZ,kBAA1C,CAAf;AACH","sourcesContent":["import { takeEvery, call } from 'redux-saga/effects';\n\nimport { storage } from '../../firebase/firebase.utils';\n\nimport { fetchPicturesSuccess, fetchPictureFailure } from './picture.actions';\n\nimport { getDownloadPictureURL } from '../../redux/picture/picture.actions';\n\nimport PictureActionTypes from './picture.types';\n\nexport function* fetchPicturesAsync() {\n    yield console.log('I am');\n    const storageRef = storage.ref();\n    const listRef = storageRef.child(`thieu${mainFolder}/${forDevice}`);\n    const listAll = yield listRef.listAll();\n\n    const getPicture = yield call(getDownloadPictureURL, listAll);\n\n    // listRef\n    //     .listAll()\n    //     .then(res => {\n    //         const pictureToPush = [];\n    //         res.items.forEach(item => {\n    //             item.getDownloadURL().then(url => {\n    //                 pictureToPush.push(url);\n    //             });\n    //         });\n    //         sleep(dispatch, fetchPicturesSuccess(pictureToPush));\n    //     })\n    //     .catch(error => dispatch(fetchPictureFailure(error)));\n}\n\nexport function* fetchPicturesStart() {\n    yield takeEvery(PictureActionTypes.FETCH_PICTURES_START, fetchPicturesAsync);\n}\n"]},"metadata":{},"sourceType":"module"}