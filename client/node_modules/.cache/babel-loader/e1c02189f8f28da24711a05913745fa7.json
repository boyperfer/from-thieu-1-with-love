{"ast":null,"code":"import { takeLatest, call, put, select } from 'redux-saga/effects';\nimport { storage } from '../../firebase/firebase.utils';\nimport { fetchPicturesSuccess, fetchPictureFailure } from './picture.actions';\nimport { getDownloadPictureURL } from '../../firebase/firebase.utils';\nimport PictureActionTypes from './picture.types';\n\nconst getLink = state => console.log(state);\n\ngetLink();\nexport function* fetchPicturesAsync() {\n  try {\n    const getLinkUrl = yield select(getLink);\n    console.log(getLinkUrl);\n    const storageRef = storage.ref();\n    const listRef = storageRef.child(\"\".concat(getLink));\n    console.log(listRef);\n    const listAll = yield listRef.listAll();\n    const getPicture = yield call(getDownloadPictureURL, listAll);\n    console.log(getPicture);\n    yield put(fetchPicturesSuccess(getPicture));\n  } catch (error) {\n    yield put(fetchPictureFailure(error.massage));\n  }\n}\nexport function* fetchPicturesStart() {\n  yield takeLatest(PictureActionTypes.FETCH_PICTURES_START, fetchPicturesAsync);\n}","map":{"version":3,"sources":["/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/src/redux/picture/picture.sagas.js"],"names":["takeLatest","call","put","select","storage","fetchPicturesSuccess","fetchPictureFailure","getDownloadPictureURL","PictureActionTypes","getLink","state","console","log","fetchPicturesAsync","getLinkUrl","storageRef","ref","listRef","child","listAll","getPicture","error","massage","fetchPicturesStart","FETCH_PICTURES_START"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,IAArB,EAA2BC,GAA3B,EAAgCC,MAAhC,QAA8C,oBAA9C;AAEA,SAASC,OAAT,QAAwB,+BAAxB;AAEA,SAASC,oBAAT,EAA+BC,mBAA/B,QAA0D,mBAA1D;AAEA,SAASC,qBAAT,QAAsC,+BAAtC;AAEA,OAAOC,kBAAP,MAA+B,iBAA/B;;AAEA,MAAMC,OAAO,GAAGC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAzB;;AACAD,OAAO;AAEP,OAAO,UAAUI,kBAAV,GAA+B;AAClC,MAAI;AACA,UAAMC,UAAU,GAAG,MAAMX,MAAM,CAACM,OAAD,CAA/B;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYE,UAAZ;AACA,UAAMC,UAAU,GAAGX,OAAO,CAACY,GAAR,EAAnB;AACA,UAAMC,OAAO,GAAGF,UAAU,CAACG,KAAX,WAAoBT,OAApB,EAAhB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYK,OAAZ;AACA,UAAME,OAAO,GAAG,MAAMF,OAAO,CAACE,OAAR,EAAtB;AACA,UAAMC,UAAU,GAAG,MAAMnB,IAAI,CAACM,qBAAD,EAAwBY,OAAxB,CAA7B;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAYQ,UAAZ;AACA,UAAMlB,GAAG,CAACG,oBAAoB,CAACe,UAAD,CAArB,CAAT;AACH,GAVD,CAUE,OAAOC,KAAP,EAAc;AACZ,UAAMnB,GAAG,CAACI,mBAAmB,CAACe,KAAK,CAACC,OAAP,CAApB,CAAT;AACH;AACJ;AAED,OAAO,UAAUC,kBAAV,GAA+B;AAClC,QAAMvB,UAAU,CAACQ,kBAAkB,CAACgB,oBAApB,EAA0CX,kBAA1C,CAAhB;AACH","sourcesContent":["import { takeLatest, call, put, select } from 'redux-saga/effects';\n\nimport { storage } from '../../firebase/firebase.utils';\n\nimport { fetchPicturesSuccess, fetchPictureFailure } from './picture.actions';\n\nimport { getDownloadPictureURL } from '../../firebase/firebase.utils';\n\nimport PictureActionTypes from './picture.types';\n\nconst getLink = state => console.log(state);\ngetLink();\n\nexport function* fetchPicturesAsync() {\n    try {\n        const getLinkUrl = yield select(getLink);\n        console.log(getLinkUrl);\n        const storageRef = storage.ref();\n        const listRef = storageRef.child(`${getLink}`);\n        console.log(listRef);\n        const listAll = yield listRef.listAll();\n        const getPicture = yield call(getDownloadPictureURL, listAll);\n        console.log(getPicture);\n        yield put(fetchPicturesSuccess(getPicture));\n    } catch (error) {\n        yield put(fetchPictureFailure(error.massage));\n    }\n}\n\nexport function* fetchPicturesStart() {\n    yield takeLatest(PictureActionTypes.FETCH_PICTURES_START, fetchPicturesAsync);\n}\n"]},"metadata":{},"sourceType":"module"}