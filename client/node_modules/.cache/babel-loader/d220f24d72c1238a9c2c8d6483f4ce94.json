{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport { async } from 'rxjs/internal/scheduler/async';\nconst config = {\n  apiKey: 'AIzaSyD5LAbHlOYy0G4o8AJsM-fHx0SgqXXnpPQ',\n  authDomain: 'fromthieu1withlove.firebaseapp.com',\n  databaseURL: 'https://fromthieu1withlove.firebaseio.com',\n  projectId: 'fromthieu1withlove',\n  storageBucket: 'fromthieu1withlove.appspot.com',\n  messagingSenderId: '77633910183',\n  appId: '1:77633910183:web:1179f429c5e0a8c5a0b282'\n};\nfirebase.initializeApp(config);\nexport const storage = firebase.storage();\nexport const videoFirebase = (urlVideo, setUrlVideo) => {\n  const fileFirebase = storage.refFromURL(urlVideo);\n  fileFirebase.getDownloadURL().then(url => {\n    setUrlVideo(url);\n  });\n};\n\nconst timeOut = ms => {\n  return new Promise(resolve => setTimeout(resolve, ms));\n};\n\nconst sleep = async (fn, ...args) => {\n  await timeOut(500);\n  return fn(...args);\n};\n\nexport const getDownloadPictureURL = async listAll => {\n  const pictureToPush = [];\n  await listAll.items.forEach(async item => {\n    const url = await item.getDownloadURL();\n    pictureToPush.push(url);\n  });\n  console.log(pictureToPush);\n  return pictureToPush;\n};\nexport const imageBackgroundFirebase = mainFolder => deviceFolder => setImage => {\n  const storageRef = storage.ref();\n  const listRef = storageRef.child(\"\".concat(mainFolder, \"/\").concat(deviceFolder));\n  listRef.listAll().then(res => {\n    res.items.forEach(item => {\n      item.getDownloadURL().then(url => {\n        setImage(url);\n      });\n    });\n  });\n};","map":{"version":3,"sources":["/Users/vnfreedomboy/Desktop/from-thieu-1-with-love/client/src/firebase/firebase.utils.js"],"names":["firebase","async","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","storage","videoFirebase","urlVideo","setUrlVideo","fileFirebase","refFromURL","getDownloadURL","then","url","timeOut","ms","Promise","resolve","setTimeout","sleep","fn","args","getDownloadPictureURL","listAll","pictureToPush","items","forEach","item","push","console","log","imageBackgroundFirebase","mainFolder","deviceFolder","setImage","storageRef","ref","listRef","child","res"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AACA,OAAO,kBAAP;AACA,SAASC,KAAT,QAAsB,+BAAtB;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,MAAM,EAAE,yCADG;AAEXC,EAAAA,UAAU,EAAE,oCAFD;AAGXC,EAAAA,WAAW,EAAE,2CAHF;AAIXC,EAAAA,SAAS,EAAE,oBAJA;AAKXC,EAAAA,aAAa,EAAE,gCALJ;AAMXC,EAAAA,iBAAiB,EAAE,aANR;AAOXC,EAAAA,KAAK,EAAE;AAPI,CAAf;AAUAT,QAAQ,CAACU,aAAT,CAAuBR,MAAvB;AAEA,OAAO,MAAMS,OAAO,GAAGX,QAAQ,CAACW,OAAT,EAAhB;AAEP,OAAO,MAAMC,aAAa,GAAG,CAACC,QAAD,EAAWC,WAAX,KAA2B;AACpD,QAAMC,YAAY,GAAGJ,OAAO,CAACK,UAAR,CAAmBH,QAAnB,CAArB;AACAE,EAAAA,YAAY,CAACE,cAAb,GAA8BC,IAA9B,CAAmCC,GAAG,IAAI;AACtCL,IAAAA,WAAW,CAACK,GAAD,CAAX;AACH,GAFD;AAGH,CALM;;AAOP,MAAMC,OAAO,GAAGC,EAAE,IAAI;AAClB,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACH,CAFD;;AAIA,MAAMI,KAAK,GAAG,OAAOC,EAAP,EAAW,GAAGC,IAAd,KAAuB;AACjC,QAAMP,OAAO,CAAC,GAAD,CAAb;AACA,SAAOM,EAAE,CAAC,GAAGC,IAAJ,CAAT;AACH,CAHD;;AAKA,OAAO,MAAMC,qBAAqB,GAAG,MAAMC,OAAN,IAAiB;AAClD,QAAMC,aAAa,GAAG,EAAtB;AACA,QAAMD,OAAO,CAACE,KAAR,CAAcC,OAAd,CAAsB,MAAMC,IAAN,IAAc;AACtC,UAAMd,GAAG,GAAG,MAAMc,IAAI,CAAChB,cAAL,EAAlB;AACAa,IAAAA,aAAa,CAACI,IAAd,CAAmBf,GAAnB;AACH,GAHK,CAAN;AAIAgB,EAAAA,OAAO,CAACC,GAAR,CAAYN,aAAZ;AAEA,SAAOA,aAAP;AACH,CATM;AAWP,OAAO,MAAMO,uBAAuB,GAAGC,UAAU,IAAIC,YAAY,IAAIC,QAAQ,IAAI;AAC7E,QAAMC,UAAU,GAAG9B,OAAO,CAAC+B,GAAR,EAAnB;AACA,QAAMC,OAAO,GAAGF,UAAU,CAACG,KAAX,WAAoBN,UAApB,cAAkCC,YAAlC,EAAhB;AACAI,EAAAA,OAAO,CAACd,OAAR,GAAkBX,IAAlB,CAAuB2B,GAAG,IAAI;AAC1BA,IAAAA,GAAG,CAACd,KAAJ,CAAUC,OAAV,CAAkBC,IAAI,IAAI;AACtBA,MAAAA,IAAI,CAAChB,cAAL,GAAsBC,IAAtB,CAA2BC,GAAG,IAAI;AAC9BqB,QAAAA,QAAQ,CAACrB,GAAD,CAAR;AACH,OAFD;AAGH,KAJD;AAKH,GAND;AAOH,CAVM","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/storage';\nimport { async } from 'rxjs/internal/scheduler/async';\n\nconst config = {\n    apiKey: 'AIzaSyD5LAbHlOYy0G4o8AJsM-fHx0SgqXXnpPQ',\n    authDomain: 'fromthieu1withlove.firebaseapp.com',\n    databaseURL: 'https://fromthieu1withlove.firebaseio.com',\n    projectId: 'fromthieu1withlove',\n    storageBucket: 'fromthieu1withlove.appspot.com',\n    messagingSenderId: '77633910183',\n    appId: '1:77633910183:web:1179f429c5e0a8c5a0b282'\n};\n\nfirebase.initializeApp(config);\n\nexport const storage = firebase.storage();\n\nexport const videoFirebase = (urlVideo, setUrlVideo) => {\n    const fileFirebase = storage.refFromURL(urlVideo);\n    fileFirebase.getDownloadURL().then(url => {\n        setUrlVideo(url);\n    });\n};\n\nconst timeOut = ms => {\n    return new Promise(resolve => setTimeout(resolve, ms));\n};\n\nconst sleep = async (fn, ...args) => {\n    await timeOut(500);\n    return fn(...args);\n};\n\nexport const getDownloadPictureURL = async listAll => {\n    const pictureToPush = [];\n    await listAll.items.forEach(async item => {\n        const url = await item.getDownloadURL();\n        pictureToPush.push(url);\n    });\n    console.log(pictureToPush);\n\n    return pictureToPush;\n};\n\nexport const imageBackgroundFirebase = mainFolder => deviceFolder => setImage => {\n    const storageRef = storage.ref();\n    const listRef = storageRef.child(`${mainFolder}/${deviceFolder}`);\n    listRef.listAll().then(res => {\n        res.items.forEach(item => {\n            item.getDownloadURL().then(url => {\n                setImage(url);\n            });\n        });\n    });\n};\n"]},"metadata":{},"sourceType":"module"}